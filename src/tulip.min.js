function tulip(t,e=300,n=150,o=15){function i(){if(!1===l){clearTimeout(c),c=null;const e=t.querySelector(".tulip-wrap");e.classList.remove("show"),e.style.transform="",setTimeout(()=>{t.removeEventListener("mouseleave",i),t.removeEventListener("blur",i),e.removeEventListener("mouseenter",r),e.removeEventListener("mouseleave",s),document.removeEventListener("keydown",a),t.removeEventListener("click",d)},n)}}function r(){l=!0}function s(){l=!1}function a(t){"Escape"===t.key&&i()}function d(){i()}t.addEventListener("click",d),document.addEventListener("keydown",a),document.body.style.overflowX="hidden";let l=!1,c=setTimeout(()=>{m.classList.add("show"),m.style.transform=p.transform,document.body.style.overflowX="auto"},e);const m=t.querySelector(".tulip-wrap");m.addEventListener("mouseenter",r),m.addEventListener("mouseleave",s),m.style.width="max-content",m.style.transitionDuration=`${n}ms`;const p=position(t,m,o);for(const t in p)"transform"!=t&&(m.style[t]=p[t]);t.addEventListener("mouseleave",i),t.addEventListener("blur",i)}function position(t,e,n){const o=window.innerHeight-document.documentElement.clientHeight,i=window.innerWidth-document.documentElement.clientWidth,r=window.innerHeight-o,s=window.innerWidth-i,a=t.getBoundingClientRect(),d=a.width/2,l=e.getBoundingClientRect(),c=l.width/2;let m,p,u={};a.x+d<s-c&&a.x+d>c?m="middle":a.x+d>s-l.width?m="right":a.x+d<l.width&&(m="left"),p=a.y<l.height+n?"top":a.y+a.height>r-l.height?"bottom":"middle";const f=`${p}-${m}`;switch(f){case"top-left":u.paddingTop=`${n}px`,u.left="0",u.top=`calc(100% - ${n}px)`,u.transform=`translateY(${n}px)`;break;case"top-middle":u.paddingTop=`${n}px`,u.left="50%",u.top=`calc(100% - ${n}px)`,u.translate="-50% 0%",u.transform=`translateY(${n}px)`;break;case"top-right":u.paddingTop=`${n}px`,u.right="0",u.top=`calc(100% - ${n}px)`,u.transform=`translateY(${n}px)`;break;case"middle-left":case"bottom-left":u.paddingBottom=`${n}px`,u.left="0",u.bottom=`calc(100% - ${n}px)`,u.transform=`translateY(-${n}px)`;break;case"middle-middle":case"bottom-middle":u.paddingBottom=`${n}px`,u.left="50%",u.bottom=`calc(100% - ${n}px)`,u.translate="-50% 0%",u.transform=`translateY(-${n}px)`;break;case"middle-right":case"bottom-right":u.paddingBottom=`${n}px`,u.right="0",u.bottom=`calc(100% - ${n}px)`,u.transform=`translateY(-${n}px)`}return u}